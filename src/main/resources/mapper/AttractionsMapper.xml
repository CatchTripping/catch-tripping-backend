<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bho.catchtrippingbackend.attractions.model.dao.AttractionsDao">

    <select id="listAttractions" parameterType="map" resultType="com.bho.catchtrippingbackend.attractions.model.AttractionsDto">
        SELECT
        no,
        content_id AS contentId,
        title,
        content_type_id AS contentTypeId,
        area_code AS areaCode,
        si_gun_gu_code AS siGunGuCode,
        first_image1 AS firstImage1,
        first_image2 AS firstImage2,
        map_level AS mapLevel,
        latitude,
        longitude,
        tel,
        addr1,
        addr2,
        homepage,
        overview
        FROM attractions
        WHERE 1=1
        <if test="sidoCode != null and sidoCode != ''">
            AND area_code = #{sidoCode}
        </if>
        <if test="gugunCode != null and gugunCode != ''">
            AND si_gun_gu_code = #{gugunCode}
        </if>
        <if test="contentTypeId != null and contentTypeId != ''">
            AND content_type_id = #{contentTypeId}
        </if>
        <if test="title != null and title != ''">
            AND title LIKE CONCAT('%', #{title}, '%')
        </if>
        ORDER BY no
    </select>

</mapper>
